<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <link rel="shortcut icon" href="startup/common-files/img/statepaclogo.png">

    <link rel="stylesheet" href="startup/flat-ui/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="startup/flat-ui/css/flat-ui.css">
    <!-- Using only with Flat-UI (free)-->
    <link rel="stylesheet" href="startup/common-files/css/icon-font.css">
    <!-- end -->
    <link rel="stylesheet" href="startup/common-files/css/animations.css">
    <link rel="stylesheet" href="static/css/style.css">
    <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    <title>Donations</title>
</head>

<body>
<section class="header-14-sub">
    <div class="background">&nbsp;</div>
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
            <div class="hero-unit">
                <h2>Donations</h2>
            </div>
            <form action="http://localhost:8443/donate" method="POST" id="payment-form">


                <div class="hero-unit">
                    <h4>1. Personal Information</h4>

                    <div class="panel-body sign-up">
                        <div class="clearfix">
                            <div class="form-group pull-left">
                                <label>
                                    <span>First Name</span>
                                    <input type="text" size="20" name="first-name" class="form-control flat" required/>
                                </label>
                            </div>
                            <div class="form-group pull-right">
                                <label>
                                    <span>Last Name</span>
                                    <input type="text" size="20" name="last-name" class="form-control flat" required/>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>
                                <span>Email</span>
                                <input type="email" size="50" name="email" class="form-control flat" required/>
                            </label>
                        </div>
                        <hr>
                        <div class="form-group">
                            <label>
                                <span>Address</span>
                                <input type="text" size="50" name="street" class="form-control flat" required/>
                            </label>
                        </div>
                        <div class="clearfix">
                            <div class="form-group pull-left">
                                <label>
                                    <span>City</span>
                                    <input type="text" size="20" name="city" class="form-control flat" required/>
                                </label>
                            </div>
                            <div class="form-group pull-right">
                                <label>
                                    <span>State</span>

                                    <select class="form-control select flat select-primary select-block mbl"
                                            name="state">
                                        <optgroup label="States">
                                            <!--<option value="0"></option>-->
                                            <option value="Alabama">Alabama</option>
                                            <option value="Alaska">Alaska</option>
                                            <option value="Arizona">Arizona</option>
                                            <option value="Arkansas">Arkansas</option>
                                            <option value="California">California</option>
                                            <option value="Colorado">Colorado</option>
                                            <option value="Connecticut">Connecticut</option>
                                            <option value="Delaware">Delaware</option>
                                            <option value="Florida">Florida</option>
                                            <option value="Georgia">Georgia</option>
                                            <option value="Hawaii">Hawaii</option>
                                            <option value="Idaho">Idaho</option>
                                            <option value="Illinois">Illinois</option>
                                            <option value="Indiana">Indiana</option>
                                            <option value="Iowa">Iowa</option>
                                            <option value="Kansas">Kansas</option>
                                            <option value="Kentucky">Kentucky</option>
                                            <option value="Louisiana">Louisiana</option>
                                            <option value="Maine">Maine</option>
                                            <option value="Maryland">Maryland</option>
                                            <option value="Massachusetts">Massachusetts</option>
                                            <option value="Michigan">Michigan</option>
                                            <option value="Minnesota">Minnesota</option>
                                            <option value="Mississippi">Mississippi</option>
                                            <option value="Missouri">Missouri</option>
                                            <option value="Montana">Montana</option>
                                            <option value="Nebraska">Nebraska</option>
                                            <option value="Nevada">Nevada</option>
                                            <option value="New Hampshire">New Hampshire</option>
                                            <option value="New Jersey">New Jersey</option>
                                            <option value="New Mexico">New Mexico</option>
                                            <option value="New York">New York</option>
                                            <option value="North Carolina">North Carolina</option>
                                            <option value="North Dakota">North Dakota</option>
                                            <option value="Ohio">Ohio</option>
                                            <option value="Oklahoma">Oklahoma</option>
                                            <option value="Oregon">Oregon</option>
                                            <option value="Pennsylvania">Pennsylvania</option>
                                            <option value="Rhode Island">Rhode Island</option>
                                            <option value="South Carolina">South Carolina</option>
                                            <option value="South Dakota">South Dakota</option>
                                            <option value="Tennessee">Tennessee</option>
                                            <option value="Texas">Texas</option>
                                            <option value="Utah">Utah</option>
                                            <option value="Vermont">Vermont</option>
                                            <option value="Washington">Washington</option>
                                            <option value="West Virginia">West Virginia</option>
                                            <option value="Wisconsin">Wisconsin</option>
                                            <option value="Wyoming">Wyoming</option>
                                        </optgroup>
                                    </select>
                                    <!--<input type="text" size="10" name="state" class="form-control flat" required/>-->
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>
                                <span>ZipCode</span>
                                <input type="number" size="10" name="zipCode" class="form-control flat" required/>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="hero-unit">
                    <h4>2. Occupation Information</h4>

                    <div class="panel-body">
                        <!--<div class="clearfix">-->
                        <div class="form-group">
                            <label>
                                <span>Occupation</span>
                                <input type="text" size="20" name="occupation" class="form-control flat" required/>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <span>Employer</span>
                                <input type="text" size="20" name="employer" class="form-control flat" required/>
                            </label>
                        </div>
                        <!--</div>-->
                        <p>If you are retired, just write "Retired" for each space.</p>
                    </div>
                </div>
                <div class="hero-unit">
                    <h4>3. Payment Information</h4>

                    <div class="panel-body">
                        <div class="form-group">
                            <label>
                                <span>Card Number</span>
                                <input type="number" size="50" data-stripe="number" class="form-control flat"
                                       id="cc-num" required/>
                            </label>
                        </div>
                        <span>Expiration (MM/YYYY)</span>

                        <div class="clearfix">
                            <div class="form-group pull-left">
                                <label>
                                    <input type="number" size="4" data-stripe="exp-month" class="form-control flat"
                                           id="cc-month" max="12"
                                           placeholder="MM" required/>
                                </label>
                            </div>
                            <!--<span>/</span>-->
                            <div class="form-group pull-left">
                                <input type="number" size="4" data-stripe="exp-year" class="form-control flat"
                                       id="cc-year" placeholder="YYYY" required/>
                            </div>
                        </div>
                        <!--</div>-->
                        <div class="form-group">
                            <label>
                                <span>CVC</span>
                                <input type="number" size="4" data-stripe="cvc" class="form-control flat" id='cvc'
                                       required/>
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <span>Amount</span>
                                <input type="number" size="20" name="amount" class="form-control flat"
                                       id="payment-amount"
                                       placeholder="$199 USD" min="3" max="199" required/>

                                <p>We accept donations of up to $199</p>
                            </label>
                        </div>
                        <!--<div class="form-group">-->
                        <!--<label>-->
                        <!--<span>Currency</span>-->
                        <!--<input type="text" size="20" name="currency"/>-->
                        <!--</label>-->
                        <!--</div>-->
                    </div>
                </div>
                <span class="payment-errors" style="color:red;"></span>
                <span class="payment-success" style="color:green;font-size: larger;" ></span>
                <br/>
                <br/>
                <button type="submit" class="btn btn-primary special">Submit Donation</button>
                <div class="hero-unit">
                    <h4>Terms & Conditions</h4>

                    <div class="panel-body">
                        By contributing, I certify that:
                        <br>
                        <br>
                        1. This contribution is made from my own funds – not those of
                        another person or entity.
                        <br>
                        2. I am not a foreign national, government contractor, national bank, or corporation
                        chartered
                        by
                        an act of
                        Congress.
                        <br>
                        <br>
                        Statesmen is registered with the FEC as an independent expenditure committee.
                        Federal law requires us to use our best efforts to collect and report the name, mailing
                        address,
                        occupation and name of employer of individuals whose contributions exceed $200 in a calendar
                        year.
                        Contributions or gifts are not tax deductible.
                    </div>
                </div>
            </form>
             <button href="index.html" type="submit" class="btn btn-primary special">Back to Main</button>
            <!--<h3>We’re making something interesting, creative amazing and awesome products amazing</h3>-->

            <!--<p>We have a great surprise for Designmodo fans – our first free HTML user interface kit. Flat UI Free-->
            <!--is made on the basis of Twitter Bootstrap.</p>-->

            <!--<div class="row">-->
            <!--<div class="subscribe-form col-sm-8 col-sm-offset-2">-->
            <!--<form>-->
            <!--<div class="input-group">-->
            <!--<input type="text" class="form-control" placeholder="mr.madbyte@gmail.com">-->
            <!--<span class="input-group-btn">-->
            <!--<button class="btn btn-primary" type="button">Notify Me</button>-->
            <!--</span>-->
            <!--</div>-->
            <!--</form>-->
            <!--</div>-->
            <!--</div>-->
        </div>
    </div>
    <!--</div>-->
</section>

<!--&lt;!&ndash;Slider testing&ndash;&gt;-->
<!--<div id="slider">This is the slider</div>-->

<footer class="footer-4 bg-midnight-blue">
    <div class="container">
        <a class="brand" href="#">Statesmen</a>
    </div>
</footer>
<!-- Placed at the end of the document so the pages load faster -->
<script src="startup/common-files/js/jquery-1.10.2.min.js"></script>
<script src="startup/common-files/js/jquery.bxslider.min.js"></script>
<script src="startup/common-files/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script src="startup/common-files/js/jquery.sharrre.min.js"></script>
<script src="startup/flat-ui/js/bootstrap.min.js"></script>
<script src="startup/common-files/js/masonry.pkgd.min.js"></script>
<script src="startup/common-files/js/modernizr.custom.js"></script>
<script src="startup/common-files/js/page-transitions.js"></script>
<script src="startup/common-files/js/easing.min.js"></script>
<script src="startup/common-files/js/jquery.svg.js"></script>
<script src="startup/common-files/js/jquery.svganim.js"></script>
<script src="startup/common-files/js/jquery.backgroundvideo.min.js"></script>
<script src="startup/common-files/js/froogaloop.min.js"></script>
<script src="startup/common-files/js/startup-kit.js"></script>
<script src="startup/common-files/js/jquery.payment.js"></script>
<!--<script src="startup/flat-ui/js/application.js"></script>-->
<script type="text/javascript">
    var ccNum = document.getElementById('cc-num'),
            ccMonth = document.getElementById('cc-month'),
            ccYear = document.getElementById('cc-year'),
            paymentAmount = document.getElementById('payment-amount'),
            cvc = document.getElementById('cvc');
    ccNum.addEventListener('input', function () {
        if ($.payment.validateCardNumber(ccNum.value)) {
            console.log('number is valid');
            ccNum.style.borderColor = '#2ecc71';
        } else {
            console.log('number is invalid');
            ccNum.style.borderColor = '#ff0000';
        }
    });
    cvc.addEventListener('input', function () {
        if ($.payment.validateCardCVC(cvc.value)) {
            console.log('cvc is valid')
            cvc.style.borderColor = '#2ecc71';
        } else {
            console.log('cvc is invalid');
            cvc.style.borderColor = '#ff0000';
        }
    });
    ccMonth.addEventListener('input', function () {
        if ($.payment.validateCardExpiry(ccMonth.value, ccYear.value)) {
            ccMonth.style.borderColor = '#2ecc71';
            ccYear.style.borderColor = '#2ecc71';
        } else {
            ccMonth.style.borderColor = '#ff0000';
            ccYear.style.borderColor = '#ff0000';
        }
    });
    ccYear.addEventListener('input', function () {
        if ($.payment.validateCardExpiry(ccMonth.value, ccYear.value)) {
            ccMonth.style.borderColor = '#2ecc71';
            ccYear.style.borderColor = '#2ecc71';
        } else {
            ccMonth.style.borderColor = '#ff0000';
            ccYear.style.borderColor = '#ff0000';
        }
    });
    paymentAmount.addEventListener('input', function () {
        if (paymentAmount.value < 3 || paymentAmount.value > 199) {
            paymentAmount.style.borderColor = '#ff0000';
        } else {
            paymentAmount.style.borderColor = '#2ecc71';
        }
    });
</script>
<script type="text/javascript">
    // This identifies your website in the createToken call below
    Stripe.setPublishableKey('pk_test_bOHcMClPjvhXPod62NShnyh2');

    var stripeResponseHandler = function (status, response) {
        var $form = $('#payment-form');

        if (response.error) {
            // Show the errors on the form
            $form.find('.payment-errors').text(response.error.message);
            $form.find('button').prop('disabled', false);
        } else {
            // token contains id, last4, and card type
            var token = response.id;
            // Insert the token into the form so it gets submitted to the server
            $form.append($('<input type="hidden" name="stripeToken" />').val(token));
            // and re-submit
            $.ajax({
                type: 'POST',
                url: $('form').attr('action'),
                data: $('form').serialize(),
                success: function (response) {
                    var form = document.getElementById('payment-form');
                    form.reset();
                    // Success Logic
                    alert("Thank you for your donation!");
                    window.location = 'http://localhost:8443/index.html';
                },
                error: function (err) {
                    // Error Logic
                    console.log(err.responseText);
                }
            });
        }
    };

    $(function () {
        $('#payment-form').submit(function (e) {
            if (!$.payment.validateCardNumber(ccNum.value) || !$.payment.validateCardCVC(cvc.value) || !$.payment.validateCardExpiry(ccMonth.value, ccYear.value)) {
                return false;
            }
            var $form = $(this);

            // Disable the submit button to prevent repeated clicks
            $form.find('button').prop('disabled', true);

            Stripe.card.createToken($form, stripeResponseHandler);

            // Prevent the form from submitting with the default action
            return false;
        });
    });
</script>
<!--<script>-->
<!--var $slider = $("slider");-->
<!--console.log($slider);-->
<!--if ($slider.length > 0) {-->
<!--$slider.slider({-->
<!--min: 1,-->
<!--max: 5,-->
<!--value: 3,-->
<!--orientation: "horizontal",-->
<!--range: "min"-->
<!--}).addSliderSegments($slider.slider("option").max);-->
<!--}-->
<!--</script>-->
</div>
</body>
</html>
